import { GetBlogsQuery } from '../query/GetBlogs.gql';
export async function getBlogs(context, params, customQuery) {
    const variables = {
        first: 5,
        ...params,
    };
    const { blogs } = context.extendQuery(customQuery, {
        blogs: {
            query: GetBlogsQuery,
            variables
        }
    });
    const response = await context.client.apolloClient.query({
        query: blogs.query,
        variables: blogs.variables
    });
    return {
        ...response,
        data: {
            ...response?.data,
            blogs: response?.data?.blogs?.edges?.map(edge => ({
                ...edge?.node,
                link: `${context.config?.cms?.blogs}/${edge?.node?.handle}`
            }))
        }
    };
}
//# sourceMappingURL=getBlogs.js.map